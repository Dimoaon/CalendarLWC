<template>
    <div class="calendar">

        <c-calendar-header
            month-label={monthLabel}
            search-results={searchResults}
            show-event-form={showEventForm}
            new-event-title={newEventTitle}
            onprevmonth={handlePrevMonth}
            onnextmonth={handleNextMonth}
            onmonthchange={handleMonthChange}
            onyearchange={handleYearChange}
            onaddevent={handleAddEventClick}
            oncloseform={closeEventForm}
            ontitleinput={handleTitleInput}
            onsaveevent={saveNewEvent}
            onsearch={handleSearchInput}
            onsearchselect={handleSearchSelect}>
        </c-calendar-header>



        <c-calendar-grid
            cells={cells}
            oncellclick={handleCellSelect}
            oneventclick={handleEventClick}>
        </c-calendar-grid>

        <template if:true={showEventDetails}>
            <c-event-details-popup
                event={selectedEvent}
                onclose={closeEventDetails}
                ondeleteevent={handleDeleteEvent}>
            </c-event-details-popup>
        </template>

    </div>
</template>
